[{"path":"https://posit-dev.github.io/querychat/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 querychat authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (‚ÄúSoftware‚Äù), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED ‚Äú‚Äù, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://posit-dev.github.io/querychat/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Garrick Aden-Buie. Author, maintainer. Joe Cheng. Author, conceptor. Carson Sievert. Author. . Copyright holder, funder.","code":""},{"path":"https://posit-dev.github.io/querychat/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Aden-Buie G, Cheng J, Sievert C (2025). querychat: Filter Query Data Frames 'shiny' Using LLM Chat Interface. R package version 0.1.0.9000, https://posit-dev.github.io/querychat/pkg-r.","code":"@Manual{,   title = {querychat: Filter and Query Data Frames in 'shiny' Using an LLM Chat Interface},   author = {Garrick Aden-Buie and Joe Cheng and Carson Sievert},   year = {2025},   note = {R package version 0.1.0.9000},   url = {https://posit-dev.github.io/querychat/pkg-r}, }"},{"path":"https://posit-dev.github.io/querychat/index.html","id":"querychat-chat-with-shiny-apps-r-","dir":"","previous_headings":"","what":"Filter and Query Data Frames in shiny Using an LLM Chat Interface","title":"Filter and Query Data Frames in shiny Using an LLM Chat Interface","text":"Imagine typing questions like directly Shiny dashboard, seeing results realtime: ‚ÄúShow penguins species Gentoo bill length greater 50mm.‚Äù ‚ÄúShow blue states incidence rate greater 100 per 100,000 people.‚Äù ‚Äúaverage mpg cars 6 cylinders?‚Äù querychat drop-component Shiny allows users query data frame using natural language. results available reactive data frame, can easily used Shiny outputs, reactive expressions, downloads, etc. terrible idea might think! need careful bringing LLMs data analysis, know prone hallucinations classes errors. querychat designed excel reliability, transparency, reproducibility using one technique: denying raw access data, forcing write SQL queries instead. See section ‚Äúworks‚Äù .","code":""},{"path":"https://posit-dev.github.io/querychat/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Filter and Query Data Frames in shiny Using an LLM Chat Interface","text":"","code":"pak::pak(\"posit-dev/querychat/pkg-r\")"},{"path":"https://posit-dev.github.io/querychat/index.html","id":"how-to-use","dir":"","previous_headings":"","what":"How to use","title":"Filter and Query Data Frames in shiny Using an LLM Chat Interface","text":"First, ‚Äôll need OpenAI API key. See instructions Ellmer. (use different LLM provider, see .)","code":""},{"path":"https://posit-dev.github.io/querychat/index.html","id":"quick-start","dir":"","previous_headings":"How to use","what":"Quick Start","title":"Filter and Query Data Frames in shiny Using an LLM Chat Interface","text":"fastest way get started built-app: launches complete Shiny app chat interface, SQL query display, data table. Perfect quick exploration prototyping!","code":"library(querychat)  qc <- QueryChat$new(mtcars) qc$app()"},{"path":"https://posit-dev.github.io/querychat/index.html","id":"custom-shiny-apps","dir":"","previous_headings":"How to use","what":"Custom Shiny Apps","title":"Filter and Query Data Frames in shiny Using an LLM Chat Interface","text":"control, integrate querychat Shiny app:","code":"library(shiny) library(bslib) library(querychat)  # 1. Create a QueryChat instance with your data qc <- QueryChat$new(mtcars)  ui <- page_sidebar(   # 2. Use qc$sidebar() in a bslib::page_sidebar.   #    Alternatively, use qc$ui() elsewhere if you don't want your   #    chat interface to live in a sidebar.   sidebar = qc$sidebar(),   DT::DTOutput(\"dt\") )  server <- function(input, output, session) {   # 3. Initialize the QueryChat server (returns session-specific reactive values)   qc_vals <- qc$server()    output$dt <- DT::renderDT({     # 4. Use the filtered/sorted data frame anywhere you wish, via qc_vals$df()     DT::datatable(qc_vals$df())   }) }  shinyApp(ui, server)"},{"path":"https://posit-dev.github.io/querychat/index.html","id":"using-database-sources","dir":"","previous_headings":"","what":"Using Database Sources","title":"Filter and Query Data Frames in shiny Using an LLM Chat Interface","text":"addition data frames, querychat can connect external databases via DBI:","code":"library(shiny) library(bslib) library(querychat) library(DBI) library(RSQLite)  # 1. Connect to a database conn <- DBI::dbConnect(RSQLite::SQLite(), \"path/to/database.db\")  # 2. Create a QueryChat instance with the database connection qc <- QueryChat$new(conn, \"table_name\")  # 3. Use it in your Shiny app as shown above qc$app()"},{"path":[]},{"path":"https://posit-dev.github.io/querychat/index.html","id":"powered-by-llms","dir":"","previous_headings":"How it works","what":"Powered by LLMs","title":"Filter and Query Data Frames in shiny Using an LLM Chat Interface","text":"querychat‚Äôs natural language chat experience powered LLMs. may use model ellmer supports ability tool calls, currently recommend (March 2025): GPT-4o Claude 3.5 Sonnet Claude 3.7 Sonnet testing, ‚Äôve found models strike good balance accuracy latency. Smaller models like GPT-4o-mini fine simple queries make surprising mistakes moderately complex ones; reasoning models like o3-mini slow responses without providing meaningfully better results. small open source models (8B ) ‚Äôve tested fared extremely poorly. Sorry. ü§∑","code":""},{"path":"https://posit-dev.github.io/querychat/index.html","id":"powered-by-sql","dir":"","previous_headings":"How it works","what":"Powered by SQL","title":"Filter and Query Data Frames in shiny Using an LLM Chat Interface","text":"querychat direct access raw data; can read filter data writing SQL SELECT statements. crucial ensuring relability, transparency, reproducibility: Reliability: Today‚Äôs LLMs excellent writing SQL, bad direct calculation. Transparency: querychat always displays SQL user, can vetted instead blindly trusted. Reproducibility: SQL query can easily copied reused. Currently, querychat uses DuckDB SQL engine working data frames. database sources, uses native SQL dialect connected database. DuckDB extremely fast surprising number statistical functions.","code":""},{"path":[]},{"path":"https://posit-dev.github.io/querychat/index.html","id":"provide-a-greeting-recommended","dir":"","previous_headings":"Customizing querychat","what":"Provide a greeting (recommended)","title":"Filter and Query Data Frames in shiny Using an LLM Chat Interface","text":"querychat UI first appears, usually want greet user basic instructions. default, instructions auto-generated every time user arrives; potentially slow, wasteful, unpredictable. Instead, create file called greeting.md, creating QueryChat instance, pass greeting = \"greeting.md\" (use readLines() read file string). can provide suggestions user using <span class=\"suggestion\"> <\/span> tag. example: suggestions appear greeting automatically populate chat text box clicked. gives user ideas explore . can use $generate_greeting() method help create greeting: Alternatively, can completely suppress greeting passing greeting = \"\".","code":"* **Filter and sort the data:**   * <span class=\"suggestion\">Show only survivors<\/span>   * <span class=\"suggestion\">Filter to first class passengers under 30<\/span>   * <span class=\"suggestion\">Sort by fare from highest to lowest<\/span>  * **Answer questions about the data:**   * <span class=\"suggestion\">What was the survival rate by gender?<\/span>   * <span class=\"suggestion\">What's the average age of children who survived?<\/span>   * <span class=\"suggestion\">How many passengers were traveling alone?<\/span> qc <- QueryChat$new(mtcars) greeting <- qc$generate_greeting(echo = \"text\")  # Save it for reuse writeLines(greeting, \"greeting.md\")  # Then use it in your app qc <- QueryChat$new(mtcars, greeting = \"greeting.md\")"},{"path":"https://posit-dev.github.io/querychat/index.html","id":"augment-the-system-prompt-recommended","dir":"","previous_headings":"Customizing querychat","what":"Augment the system prompt (recommended)","title":"Filter and Query Data Frames in shiny Using an LLM Chat Interface","text":"LLM parlance, system prompt set instructions specific knowledge want model use conversation. querychat automatically creates system prompt comprised : basic set behaviors LLM must follow order querychat work properly. (See inst/prompt/prompt.md ‚Äôre curious looks like.) SQL schema data source provided. (Optional) additional description data choose provide. (Optional) additional instructions want use guide querychat‚Äôs behavior.","code":""},{"path":"https://posit-dev.github.io/querychat/index.html","id":"data-description","dir":"","previous_headings":"Customizing querychat > Augment the system prompt (recommended)","what":"Data description","title":"Filter and Query Data Frames in shiny Using an LLM Chat Interface","text":"give querychat dataset nothing else, provide LLM basic schema data: Column names SQL data type (integer, float, boolean, datetime, text) text columns less 10 unique values, assume categorical variables include list values integer float columns, include range ‚Äôs LLM know data. actual data get passed LLM. calculate values pass schema information LLM. column names usefully descriptive, may able make surprising amount sense data. data frame‚Äôs columns x, V1, value, etc., model need given background info‚Äìjust like human . provide information, use data_description argument. example, mtcars data frame used example pretty minimal column names. might create data_description.md like : can pass via: querychat doesn‚Äôt need information particular format; just put whatever information, whatever format, think human find helpful.","code":"The data was extracted from the 1974 Motor Trend US magazine, and comprises fuel consumption and 10 aspects of automobile design and performance for 32 automobiles (1973‚Äì74 models).  - mpg:  Miles/(US) gallon - cyl:  Number of cylinders - disp: Displacement (cu.in.) - hp:   Gross horsepower - drat: Rear axle ratio - wt:   Weight (1000 lbs) - qsec: 1/4 mile time - vs:   Engine (0 = V-shaped, 1 = straight) - am:   Transmission (0 = automatic, 1 = manual) - gear: Number of forward gears - carb: Number of carburetors qc <- QueryChat$new(   mtcars,   data_description = \"data_description.md\" )"},{"path":"https://posit-dev.github.io/querychat/index.html","id":"additional-instructions","dir":"","previous_headings":"Customizing querychat > Augment the system prompt (recommended)","what":"Additional instructions","title":"Filter and Query Data Frames in shiny Using an LLM Chat Interface","text":"can add additional instructions end system prompt, passing extra_instructions QueryChat$new(). can also put instructions separate file pass file path, data_description . Warning: 100% guaranteed LLM always‚Äîmany cases, ever‚Äîobey instructions, can difficult predict instructions problem. sure test extensively time change instructions, especially, change model use.","code":"qc <- QueryChat$new(   mtcars,   extra_instructions = c(     \"You're speaking to a British audience--please use appropriate spelling conventions.\",     \"Use lots of emojis! üòÉ Emojis everywhere, üåç emojis forever. ‚ôæÔ∏è\",     \"Stay on topic, only talk about the data dashboard and refuse to answer other questions.\"   ) )"},{"path":"https://posit-dev.github.io/querychat/index.html","id":"use-a-different-llm-provider","dir":"","previous_headings":"Customizing querychat","what":"Use a different LLM provider","title":"Filter and Query Data Frames in shiny Using an LLM Chat Interface","text":"default, querychat uses OpenAI default model chosen ellmer::chat_openai(). want use different model, can provide ellmer chat object client argument QueryChat$new(). use Claude 3.7 Sonnet instead, require provide API key. See instructions Ellmer information authenticate different providers. Alternatively, can use provider-model string, passed ellmer::chat(): can set querychat.client R option chat object provider-model string, used default client querychat apps session:","code":"library(ellmer)  qc <- QueryChat$new(   mtcars,   client = ellmer::chat_anthropic(model = \"claude-3-7-sonnet-latest\") ) qc <- QueryChat$new(   mtcars,   client = \"anthropic/claude-3-7-sonnet-latest\" ) options(querychat.client = \"anthropic/claude-3-7-sonnet-latest\")"},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":null,"dir":"Reference","previous_headings":"","what":"DBI Source ‚Äî DBISource","title":"DBI Source ‚Äî DBISource","text":"DataSource implementation DBI database connections (SQLite, PostgreSQL, MySQL, etc.).","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"DBI Source ‚Äî DBISource","text":"class wraps DBI connection provides SQL query execution specified table database.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"DBI Source ‚Äî DBISource","text":"querychat::DataSource -> DBISource","code":""},{"path":[]},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"DBI Source ‚Äî DBISource","text":"DBISource$new() DBISource$get_db_type() DBISource$get_schema() DBISource$execute_query() DBISource$test_query() DBISource$get_data() DBISource$cleanup() DBISource$clone()","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"DBI Source ‚Äî DBISource","text":"Create new DBISource","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"DBI Source ‚Äî DBISource","text":"","code":"DBISource$new(conn, table_name)"},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"DBI Source ‚Äî DBISource","text":"conn DBI connection object table_name Name table database. Can character string DBI::Id() object tables catalogs/schemas","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"DBI Source ‚Äî DBISource","text":"new DBISource object","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"examples","dir":"Reference","previous_headings":"","what":"Examples","title":"DBI Source ‚Äî DBISource","text":"","code":"\\dontrun{ conn <- DBI::dbConnect(RSQLite::SQLite(), \":memory:\") DBI::dbWriteTable(conn, \"iris\", iris) source <- DBISource$new(conn, \"iris\") }"},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"method-get-db-type-","dir":"Reference","previous_headings":"","what":"Method get_db_type()","title":"DBI Source ‚Äî DBISource","text":"Get database type","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"DBI Source ‚Äî DBISource","text":"","code":"DBISource$get_db_type()"},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"DBI Source ‚Äî DBISource","text":"string identifying database type","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"method-get-schema-","dir":"Reference","previous_headings":"","what":"Method get_schema()","title":"DBI Source ‚Äî DBISource","text":"Get schema information database table","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"DBI Source ‚Äî DBISource","text":"","code":"DBISource$get_schema(categorical_threshold = 20)"},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"DBI Source ‚Äî DBISource","text":"categorical_threshold Maximum number unique values text column considered categorical (default: 20)","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"DBI Source ‚Äî DBISource","text":"string describing schema","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"method-execute-query-","dir":"Reference","previous_headings":"","what":"Method execute_query()","title":"DBI Source ‚Äî DBISource","text":"Execute SQL query","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"DBI Source ‚Äî DBISource","text":"","code":"DBISource$execute_query(query)"},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"DBI Source ‚Äî DBISource","text":"query SQL query string. NULL empty, returns data","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"DBI Source ‚Äî DBISource","text":"data frame query results","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"method-test-query-","dir":"Reference","previous_headings":"","what":"Method test_query()","title":"DBI Source ‚Äî DBISource","text":"Test SQL query fetching one row","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"DBI Source ‚Äî DBISource","text":"","code":"DBISource$test_query(query)"},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"DBI Source ‚Äî DBISource","text":"query SQL query string","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"DBI Source ‚Äî DBISource","text":"data frame one row results","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"method-get-data-","dir":"Reference","previous_headings":"","what":"Method get_data()","title":"DBI Source ‚Äî DBISource","text":"Get data table","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"DBI Source ‚Äî DBISource","text":"","code":"DBISource$get_data()"},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"DBI Source ‚Äî DBISource","text":"data frame containing data","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"method-cleanup-","dir":"Reference","previous_headings":"","what":"Method cleanup()","title":"DBI Source ‚Äî DBISource","text":"Disconnect database","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"DBI Source ‚Äî DBISource","text":"","code":"DBISource$cleanup()"},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"returns-6","dir":"Reference","previous_headings":"","what":"Returns","title":"DBI Source ‚Äî DBISource","text":"NULL (invisibly)","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"DBI Source ‚Äî DBISource","text":"objects class cloneable method.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"DBI Source ‚Äî DBISource","text":"","code":"DBISource$clone(deep = FALSE)"},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"DBI Source ‚Äî DBISource","text":"deep Whether make deep clone.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DBISource.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"DBI Source ‚Äî DBISource","text":"","code":"if (FALSE) { # \\dontrun{ # Connect to a database conn <- DBI::dbConnect(RSQLite::SQLite(), \":memory:\") DBI::dbWriteTable(conn, \"mtcars\", mtcars)  # Create a DBI source db_source <- DBISource$new(conn, \"mtcars\")  # Get database type db_source$get_db_type()  # Returns \"SQLite\"  # Execute a query result <- db_source$execute_query(\"SELECT * FROM mtcars WHERE mpg > 25\")  # Note: cleanup() will disconnect the connection # If you want to keep the connection open, don't call cleanup() } # }  ## ------------------------------------------------ ## Method `DBISource$new` ## ------------------------------------------------  if (FALSE) { # \\dontrun{ conn <- DBI::dbConnect(RSQLite::SQLite(), \":memory:\") DBI::dbWriteTable(conn, \"iris\", iris) source <- DBISource$new(conn, \"iris\") } # }"},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":null,"dir":"Reference","previous_headings":"","what":"Data Frame Source ‚Äî DataFrameSource","title":"Data Frame Source ‚Äî DataFrameSource","text":"DataSource implementation wraps data frame using DuckDB SQL query execution.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Data Frame Source ‚Äî DataFrameSource","text":"class creates -memory DuckDB connection registers provided data frame table. SQL queries executed DuckDB table.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"Data Frame Source ‚Äî DataFrameSource","text":"querychat::DataSource -> DataFrameSource","code":""},{"path":[]},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Data Frame Source ‚Äî DataFrameSource","text":"DataFrameSource$new() DataFrameSource$get_db_type() DataFrameSource$get_schema() DataFrameSource$execute_query() DataFrameSource$test_query() DataFrameSource$get_data() DataFrameSource$cleanup() DataFrameSource$clone()","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Data Frame Source ‚Äî DataFrameSource","text":"Create new DataFrameSource","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Frame Source ‚Äî DataFrameSource","text":"","code":"DataFrameSource$new(df, table_name)"},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data Frame Source ‚Äî DataFrameSource","text":"df data frame. table_name Name use table SQL queries. Must valid table name (start letter, contain letters, numbers, underscores)","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Data Frame Source ‚Äî DataFrameSource","text":"new DataFrameSource object","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Data Frame Source ‚Äî DataFrameSource","text":"","code":"\\dontrun{ source <- DataFrameSource$new(iris, \"iris\") }"},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"method-get-db-type-","dir":"Reference","previous_headings":"","what":"Method get_db_type()","title":"Data Frame Source ‚Äî DataFrameSource","text":"Get database type","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Frame Source ‚Äî DataFrameSource","text":"","code":"DataFrameSource$get_db_type()"},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Data Frame Source ‚Äî DataFrameSource","text":"string \"DuckDB\"","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"method-get-schema-","dir":"Reference","previous_headings":"","what":"Method get_schema()","title":"Data Frame Source ‚Äî DataFrameSource","text":"Get schema information data frame","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Frame Source ‚Äî DataFrameSource","text":"","code":"DataFrameSource$get_schema(categorical_threshold = 20)"},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data Frame Source ‚Äî DataFrameSource","text":"categorical_threshold Maximum number unique values text column considered categorical (default: 20)","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"Data Frame Source ‚Äî DataFrameSource","text":"string describing schema","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"method-execute-query-","dir":"Reference","previous_headings":"","what":"Method execute_query()","title":"Data Frame Source ‚Äî DataFrameSource","text":"Execute SQL query","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Frame Source ‚Äî DataFrameSource","text":"","code":"DataFrameSource$execute_query(query)"},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data Frame Source ‚Äî DataFrameSource","text":"query SQL query string. NULL empty, returns data","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"Data Frame Source ‚Äî DataFrameSource","text":"data frame query results","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"method-test-query-","dir":"Reference","previous_headings":"","what":"Method test_query()","title":"Data Frame Source ‚Äî DataFrameSource","text":"Test SQL query fetching one row","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Frame Source ‚Äî DataFrameSource","text":"","code":"DataFrameSource$test_query(query)"},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data Frame Source ‚Äî DataFrameSource","text":"query SQL query string","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"Data Frame Source ‚Äî DataFrameSource","text":"data frame one row results","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"method-get-data-","dir":"Reference","previous_headings":"","what":"Method get_data()","title":"Data Frame Source ‚Äî DataFrameSource","text":"Get data table","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Frame Source ‚Äî DataFrameSource","text":"","code":"DataFrameSource$get_data()"},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"Data Frame Source ‚Äî DataFrameSource","text":"data frame containing data","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"method-cleanup-","dir":"Reference","previous_headings":"","what":"Method cleanup()","title":"Data Frame Source ‚Äî DataFrameSource","text":"Close DuckDB connection","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Frame Source ‚Äî DataFrameSource","text":"","code":"DataFrameSource$cleanup()"},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"returns-6","dir":"Reference","previous_headings":"","what":"Returns","title":"Data Frame Source ‚Äî DataFrameSource","text":"NULL (invisibly)","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Data Frame Source ‚Äî DataFrameSource","text":"objects class cloneable method.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Frame Source ‚Äî DataFrameSource","text":"","code":"DataFrameSource$clone(deep = FALSE)"},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data Frame Source ‚Äî DataFrameSource","text":"deep Whether make deep clone.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataFrameSource.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Data Frame Source ‚Äî DataFrameSource","text":"","code":"if (FALSE) { # \\dontrun{ # Create a data frame source df_source <- DataFrameSource$new(mtcars, \"mtcars\")  # Get database type df_source$get_db_type()  # Returns \"DuckDB\"  # Execute a query result <- df_source$execute_query(\"SELECT * FROM mtcars WHERE mpg > 25\")  # Clean up when done df_source$cleanup() } # }  ## ------------------------------------------------ ## Method `DataFrameSource$new` ## ------------------------------------------------  if (FALSE) { # \\dontrun{ source <- DataFrameSource$new(iris, \"iris\") } # }"},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":null,"dir":"Reference","previous_headings":"","what":"Data Source Base Class ‚Äî DataSource","title":"Data Source Base Class ‚Äî DataSource","text":"abstract R6 class defining interface custom QueryChat data sources must implement. class instantiated directly; instead, use one concrete implementations like DataFrameSource DBISource.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Data Source Base Class ‚Äî DataSource","text":"table_name Name table used SQL queries","code":""},{"path":[]},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Data Source Base Class ‚Äî DataSource","text":"DataSource$get_db_type() DataSource$get_schema() DataSource$execute_query() DataSource$test_query() DataSource$get_data() DataSource$cleanup() DataSource$clone()","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"method-get-db-type-","dir":"Reference","previous_headings":"","what":"Method get_db_type()","title":"Data Source Base Class ‚Äî DataSource","text":"Get database type","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Source Base Class ‚Äî DataSource","text":"","code":"DataSource$get_db_type()"},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Data Source Base Class ‚Äî DataSource","text":"string describing database type (e.g., \"DuckDB\", \"SQLite\")","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"method-get-schema-","dir":"Reference","previous_headings":"","what":"Method get_schema()","title":"Data Source Base Class ‚Äî DataSource","text":"Get schema information table","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Source Base Class ‚Äî DataSource","text":"","code":"DataSource$get_schema(categorical_threshold = 20)"},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data Source Base Class ‚Äî DataSource","text":"categorical_threshold Maximum number unique values text column considered categorical","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Data Source Base Class ‚Äî DataSource","text":"string containing schema information formatted LLM prompts","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"method-execute-query-","dir":"Reference","previous_headings":"","what":"Method execute_query()","title":"Data Source Base Class ‚Äî DataSource","text":"Execute SQL query return results","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Source Base Class ‚Äî DataSource","text":"","code":"DataSource$execute_query(query)"},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data Source Base Class ‚Äî DataSource","text":"query SQL query string execute","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"Data Source Base Class ‚Äî DataSource","text":"data frame containing query results","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"method-test-query-","dir":"Reference","previous_headings":"","what":"Method test_query()","title":"Data Source Base Class ‚Äî DataSource","text":"Test SQL query fetching one row","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Source Base Class ‚Äî DataSource","text":"","code":"DataSource$test_query(query)"},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data Source Base Class ‚Äî DataSource","text":"query SQL query string test","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"Data Source Base Class ‚Äî DataSource","text":"data frame containing one row results (empty matches)","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"method-get-data-","dir":"Reference","previous_headings":"","what":"Method get_data()","title":"Data Source Base Class ‚Äî DataSource","text":"Get unfiltered data data frame","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Source Base Class ‚Äî DataSource","text":"","code":"DataSource$get_data()"},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"Data Source Base Class ‚Äî DataSource","text":"data frame containing data table","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"method-cleanup-","dir":"Reference","previous_headings":"","what":"Method cleanup()","title":"Data Source Base Class ‚Äî DataSource","text":"Clean resources (close connections, etc.)","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Source Base Class ‚Äî DataSource","text":"","code":"DataSource$cleanup()"},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"Data Source Base Class ‚Äî DataSource","text":"NULL (invisibly)","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Data Source Base Class ‚Äî DataSource","text":"objects class cloneable method.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Data Source Base Class ‚Äî DataSource","text":"","code":"DataSource$clone(deep = FALSE)"},{"path":"https://posit-dev.github.io/querychat/reference/DataSource.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data Source Base Class ‚Äî DataSource","text":"deep Whether make deep clone.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":null,"dir":"Reference","previous_headings":"","what":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"QueryChat R6 class built Shiny, shinychat, ellmer enable interactive querying data using natural language. leverages large language models (LLMs) translate user questions SQL queries, execute data source (data frame database), various ways accessing/displaying results.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"QueryChat class takes data (data frame database connection) input provides methods : Generate chat UI natural language queries (e.g., $app(), $sidebar()) Initialize server logic returns session-specific reactive values (via $server()) Access reactive data, SQL queries, titles returned server values","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"library(querychat)  # Create a QueryChat object qc <- QueryChat$new(mtcars)  # Quick start: run a complete app qc$app()  # Or build a custom Shiny app ui <- page_sidebar(   qc$sidebar(),   verbatimTextOutput(\"sql\"),   dataTableOutput(\"data\") )  server <- function(input, output, session) {   qc_vals <- qc$server()    output$sql <- renderText(qc_vals$sql())   output$data <- renderDataTable(qc_vals$df()) }  shinyApp(ui, server)"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"greeting greeting message displayed users. id module ID namespacing. tools allowed tools chat client.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"system_prompt Get system prompt. data_source Get current data source.","code":""},{"path":[]},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"QueryChat$new() QueryChat$client() QueryChat$console() QueryChat$app() QueryChat$app_obj() QueryChat$sidebar() QueryChat$ui() QueryChat$server() QueryChat$generate_greeting() QueryChat$cleanup() QueryChat$clone()","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"Create new QueryChat object.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"QueryChat$new(   data_source,   table_name = missing_arg(),   ...,   id = NULL,   greeting = NULL,   client = NULL,   tools = c(\"update\", \"query\"),   data_description = NULL,   categorical_threshold = 20,   extra_instructions = NULL,   prompt_template = NULL,   cleanup = NA )"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"data_source Either data.frame database connection (e.g., DBI connection). table_name string specifying table name use SQL queries. data_source data.frame, name refer queries (typically variable name). provided, inferred variable name data.frame inputs. database connections, parameter required. ... Additional arguments (currently unused). id Optional module ID QueryChat instance. provided, auto-generated table_name. ID used namespace Shiny module. greeting Optional initial message display users. Can character string (Markdown format) file path. provided, greeting generated start conversation using LLM, adds latency cost. Use $generate_greeting() create greeting save reuse. client Optional chat client. Can : ellmer::Chat object string pass ellmer::chat() (e.g., \"openai/gpt-4o\") NULL (default): Uses querychat.client option, QUERYCHAT_CLIENT environment variable, defaults ellmer::chat_openai() tools querychat tools include chat client, default. \"update\" includes tools updating resetting dashboard \"query\" includes tool executing SQL queries. Use tools = \"update\" want dashboard updating tools, want disable querying tool entirely prevent LLM seeing data dataset. data_description Optional description data plain text Markdown. Can string file path. provides context LLM data represents. categorical_threshold text columns, maximum number unique values consider categorical variable. Default 20. extra_instructions Optional additional instructions chat model plain text Markdown. Can string file path. prompt_template Optional path string custom prompt template file. provided, default querychat template used. See package prompts directory default template format. cleanup Whether automatically run $cleanup() Shiny session/app stops. default, cleanup occurs QueryChat gets created within Shiny session. Set TRUE always clean , FALSE never clean automatically.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"new QueryChat object.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"examples","dir":"Reference","previous_headings":"","what":"Examples","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"\\dontrun{ # Basic usage qc <- QueryChat$new(mtcars)  # With options qc <- QueryChat$new(   mtcars,   greeting = \"Welcome to the mtcars explorer!\",   client = \"openai/gpt-4o\",   data_description = \"Motor Trend car road tests dataset\" )  # With database library(DBI) conn <- dbConnect(RSQLite::SQLite(), \":memory:\") dbWriteTable(conn, \"mtcars\", mtcars) qc <- QueryChat$new(conn, \"mtcars\") }"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"method-client-","dir":"Reference","previous_headings":"","what":"Method client()","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"Create chat client, complete registered tools, current data source.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"QueryChat$client(   tools = NA,   update_dashboard = function(query, title) {  },   reset_dashboard = function() {  } )"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"tools querychat tools include chat client. \"update\" includes tools updating resetting dashboard \"query\" includes tool executing SQL queries. default, tools = NA, values provided initialization used. update_dashboard Optional function call query title generated LLM update_dashboard tool. reset_dashboard Optional function call reset_dashboard tool called.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"method-console-","dir":"Reference","previous_headings":"","what":"Method console()","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"Launch console-based chat interface data source.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"QueryChat$console(new = FALSE, ..., tools = \"query\")"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"new Whether create new chat client instance continue conversation last console chat session (default). ... Additional arguments passed $client() method. tools querychat tools include chat client. See $client() details. Ignored creating new chat client. default, \"query\" tool included, regardless tools set initialization.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"method-app-","dir":"Reference","previous_headings":"","what":"Method app()","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"Create run Shiny gadget chatting data Runs Shiny gadget (designed interactive use) provides complete interface chatting data using natural language. looking deploy app run means, see $app_obj().","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"QueryChat$app(..., bookmark_store = \"url\")"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"... Arguments passed $app_obj(). bookmark_store bookmarking storage method. Passed shiny::enableBookmarking(). \"url\" \"server\", chat state (including current query) bookmarked. Default \"url\".","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"Invisibly returns list session-specific values: df: final filtered data frame sql: final SQL query string title: final title client: session-specific chat client instance","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"examples-1","dir":"Reference","previous_headings":"","what":"Examples","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"\\dontrun{ library(querychat)  qc <- QueryChat$new(mtcars) qc$app() }"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"method-app-obj-","dir":"Reference","previous_headings":"","what":"Method app_obj()","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"streamlined Shiny app chatting data Creates Shiny app designed chatting data, : sidebar containing chat interface card displaying current SQL query card displaying filtered data table reset button clear query","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"QueryChat$app_obj(..., bookmark_store = \"url\")"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"... Additional arguments (currently unused). bookmark_store bookmarking storage method. Passed shiny::enableBookmarking(). \"url\" \"server\", chat state (including current query) bookmarked. Default \"url\".","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"Shiny app object can run shiny::runApp().","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"examples-2","dir":"Reference","previous_headings":"","what":"Examples","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"\\dontrun{ library(querychat)  qc <- QueryChat$new(mtcars) app <- qc$app_obj() shiny::runApp(app) }"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"method-sidebar-","dir":"Reference","previous_headings":"","what":"Method sidebar()","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"Create sidebar containing querychat UI. method generates bslib::sidebar() component containing chat interface, suitable use bslib::page_sidebar() similar layouts.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"QueryChat$sidebar(width = 400, height = \"100%\", fillable = TRUE, ...)"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"width Width sidebar pixels. Default 400. height Height sidebar. Default \"100%\". fillable Whether sidebar fillable. Default TRUE. ... Additional arguments passed bslib::sidebar().","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"bslib::sidebar() UI component.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"examples-3","dir":"Reference","previous_headings":"","what":"Examples","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"\\dontrun{ qc <- QueryChat$new(mtcars)  ui <- page_sidebar(   qc$sidebar(),   # Main content here ) }"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"method-ui-","dir":"Reference","previous_headings":"","what":"Method ui()","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"Create UI querychat chat interface. method generates chat UI component. Typically use $sidebar() instead, wraps sidebar layout.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"QueryChat$ui(...)"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"... Additional arguments passed shinychat::chat_ui().","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"UI component containing chat interface.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"examples-4","dir":"Reference","previous_headings":"","what":"Examples","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"\\dontrun{ qc <- QueryChat$new(mtcars)  ui <- fluidPage(   qc$ui() ) }"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"method-server-","dir":"Reference","previous_headings":"","what":"Method server()","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"Initialize querychat server logic. method must called within Shiny server function. sets reactive logic chat interface returns session-specific reactive values.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"QueryChat$server(   enable_bookmarking = FALSE,   session = shiny::getDefaultReactiveDomain() )"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"enable_bookmarking Whether enable bookmarking chat state. Default FALSE. enabled, chat state (including current query, title, chat history) saved restored Shiny bookmarks. requires Shiny app bookmarking enabled via shiny::enableBookmarking() enableBookmarking parameter shiny::shinyApp(). session Shiny session object.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"list containing session-specific reactive values chat client following elements: df: Reactive expression returning current filtered data frame sql: Reactive value current SQL query string title: Reactive value current title client: session-specific chat client instance","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"examples-5","dir":"Reference","previous_headings":"","what":"Examples","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"\\dontrun{ qc <- QueryChat$new(mtcars)  server <- function(input, output, session) {   qc_vals <- qc$server(enable_bookmarking = TRUE)    output$data <- renderDataTable(qc_vals$df())   output$query <- renderText(qc_vals$sql())   output$title <- renderText(qc_vals$title() %||% \"No Query\") } }"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"method-generate-greeting-","dir":"Reference","previous_headings":"","what":"Method generate_greeting()","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"Generate welcome greeting chat. default, QueryChat$new() generates greeting start every new conversation, convenient getting started development, also might add unnecessary latency cost. Use method generate greeting save reuse.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"QueryChat$generate_greeting(echo = c(\"none\", \"output\"))"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"echo Whether print greeting console. Options \"none\" (default, output) \"output\" (print console).","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"returns-6","dir":"Reference","previous_headings":"","what":"Returns","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"greeting string Markdown format.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"examples-6","dir":"Reference","previous_headings":"","what":"Examples","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"\\dontrun{ # Create QueryChat object qc <- QueryChat$new(mtcars)  # Generate a greeting and save it greeting <- qc$generate_greeting() writeLines(greeting, \"mtcars_greeting.md\")  # Later, use the saved greeting qc2 <- QueryChat$new(mtcars, greeting = \"mtcars_greeting.md\") }"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"method-cleanup-","dir":"Reference","previous_headings":"","what":"Method cleanup()","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"Clean resources associated data source. method releases resources (e.g., database connections) associated data source. Call done using QueryChat object avoid resource leaks. Note: auto_cleanup set TRUE constructor, called automatically Shiny app stops.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"QueryChat$cleanup()"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"returns-7","dir":"Reference","previous_headings":"","what":"Returns","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"Invisibly returns NULL. Resources cleaned internally.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"objects class cloneable method.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"QueryChat$clone(deep = FALSE)"},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"arguments-9","dir":"Reference","previous_headings":"","what":"Arguments","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"deep Whether make deep clone.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/QueryChat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"QueryChat: Interactive Data Querying with Natural Language ‚Äî QueryChat","text":"","code":"if (FALSE) { # \\dontrun{ # Basic usage with a data frame qc <- QueryChat$new(mtcars) app <- qc$app()  # With a custom greeting greeting <- \"Welcome! Ask me about the mtcars dataset.\" qc <- QueryChat$new(mtcars, greeting = greeting)  # With a specific LLM provider qc <- QueryChat$new(mtcars, client = \"anthropic/claude-sonnet-4-5\")  # Generate a greeting for reuse qc <- QueryChat$new(mtcars) greeting <- qc$generate_greeting(echo = \"text\") # Save greeting for next time writeLines(greeting, \"mtcars_greeting.md\") } # }  ## ------------------------------------------------ ## Method `QueryChat$new` ## ------------------------------------------------  if (FALSE) { # \\dontrun{ # Basic usage qc <- QueryChat$new(mtcars)  # With options qc <- QueryChat$new(   mtcars,   greeting = \"Welcome to the mtcars explorer!\",   client = \"openai/gpt-4o\",   data_description = \"Motor Trend car road tests dataset\" )  # With database library(DBI) conn <- dbConnect(RSQLite::SQLite(), \":memory:\") dbWriteTable(conn, \"mtcars\", mtcars) qc <- QueryChat$new(conn, \"mtcars\") } # }  ## ------------------------------------------------ ## Method `QueryChat$app` ## ------------------------------------------------  if (FALSE) { # \\dontrun{ library(querychat)  qc <- QueryChat$new(mtcars) qc$app() } # }   ## ------------------------------------------------ ## Method `QueryChat$app_obj` ## ------------------------------------------------  if (FALSE) { # \\dontrun{ library(querychat)  qc <- QueryChat$new(mtcars) app <- qc$app_obj() shiny::runApp(app) } # }   ## ------------------------------------------------ ## Method `QueryChat$sidebar` ## ------------------------------------------------  if (FALSE) { # \\dontrun{ qc <- QueryChat$new(mtcars)  ui <- page_sidebar(   qc$sidebar(),   # Main content here ) } # }  ## ------------------------------------------------ ## Method `QueryChat$ui` ## ------------------------------------------------  if (FALSE) { # \\dontrun{ qc <- QueryChat$new(mtcars)  ui <- fluidPage(   qc$ui() ) } # }  ## ------------------------------------------------ ## Method `QueryChat$server` ## ------------------------------------------------  if (FALSE) { # \\dontrun{ qc <- QueryChat$new(mtcars)  server <- function(input, output, session) {   qc_vals <- qc$server(enable_bookmarking = TRUE)    output$data <- renderDataTable(qc_vals$df())   output$query <- renderText(qc_vals$sql())   output$title <- renderText(qc_vals$title() %||% \"No Query\") } } # }  ## ------------------------------------------------ ## Method `QueryChat$generate_greeting` ## ------------------------------------------------  if (FALSE) { # \\dontrun{ # Create QueryChat object qc <- QueryChat$new(mtcars)  # Generate a greeting and save it greeting <- qc$generate_greeting() writeLines(greeting, \"mtcars_greeting.md\")  # Later, use the saved greeting qc2 <- QueryChat$new(mtcars, greeting = \"mtcars_greeting.md\") } # }"},{"path":"https://posit-dev.github.io/querychat/reference/deprecated.html","id":null,"dir":"Reference","previous_headings":"","what":"Deprecated functions ‚Äî deprecated","title":"Deprecated functions ‚Äî deprecated","text":"functions replaced new QueryChat R6 class API. Please update code use new class-based approach.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/deprecated.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Deprecated functions ‚Äî deprecated","text":"","code":"querychat_init(...)  querychat_sidebar(...)  querychat_ui(...)  querychat_server(...)  querychat_greeting(...)  querychat_data_source(...)"},{"path":"https://posit-dev.github.io/querychat/reference/is_data_source.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if object is a DataSource ‚Äî is_data_source","title":"Check if object is a DataSource ‚Äî is_data_source","text":"Check object DataSource","code":""},{"path":"https://posit-dev.github.io/querychat/reference/is_data_source.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if object is a DataSource ‚Äî is_data_source","text":"","code":"is_data_source(x)"},{"path":"https://posit-dev.github.io/querychat/reference/is_data_source.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if object is a DataSource ‚Äî is_data_source","text":"x Object check","code":""},{"path":"https://posit-dev.github.io/querychat/reference/is_data_source.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if object is a DataSource ‚Äî is_data_source","text":"TRUE x DataSource, FALSE otherwise","code":""},{"path":"https://posit-dev.github.io/querychat/reference/querychat-convenience.html","id":null,"dir":"Reference","previous_headings":"","what":"QueryChat convenience functions ‚Äî querychat","title":"QueryChat convenience functions ‚Äî querychat","text":"Convenience functions wrapping QueryChat creation (.e., querychat()) app launching (.e., querychat_app()).","code":""},{"path":"https://posit-dev.github.io/querychat/reference/querychat-convenience.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"QueryChat convenience functions ‚Äî querychat","text":"","code":"querychat(   data_source,   table_name = missing_arg(),   ...,   id = NULL,   greeting = NULL,   client = NULL,   tools = c(\"update\", \"query\"),   data_description = NULL,   categorical_threshold = 20,   extra_instructions = NULL,   prompt_template = NULL,   cleanup = NA )  querychat_app(   data_source,   table_name = missing_arg(),   ...,   id = NULL,   greeting = NULL,   client = NULL,   tools = c(\"update\", \"query\"),   data_description = NULL,   categorical_threshold = 20,   extra_instructions = NULL,   prompt_template = NULL,   cleanup = NA,   bookmark_store = \"url\" )"},{"path":"https://posit-dev.github.io/querychat/reference/querychat-convenience.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"QueryChat convenience functions ‚Äî querychat","text":"data_source Either data.frame database connection (e.g., DBI connection). table_name string specifying table name use SQL queries. data_source data.frame, name refer queries (typically variable name). provided, inferred variable name data.frame inputs. database connections, parameter required. ... Additional arguments (currently unused). id Optional module ID QueryChat instance. provided, auto-generated table_name. ID used namespace Shiny module. greeting Optional initial message display users. Can character string (Markdown format) file path. provided, greeting generated start conversation using LLM, adds latency cost. Use $generate_greeting() create greeting save reuse. client Optional chat client. Can : ellmer::Chat object string pass ellmer::chat() (e.g., \"openai/gpt-4o\") NULL (default): Uses querychat.client option, QUERYCHAT_CLIENT environment variable, defaults ellmer::chat_openai() tools querychat tools include chat client, default. \"update\" includes tools updating resetting dashboard \"query\" includes tool executing SQL queries. Use tools = \"update\" want dashboard updating tools, want disable querying tool entirely prevent LLM seeing data dataset. data_description Optional description data plain text Markdown. Can string file path. provides context LLM data represents. categorical_threshold text columns, maximum number unique values consider categorical variable. Default 20. extra_instructions Optional additional instructions chat model plain text Markdown. Can string file path. prompt_template Optional path string custom prompt template file. provided, default querychat template used. See package prompts directory default template format. cleanup Whether automatically run $cleanup() Shiny session/app stops. default, cleanup occurs QueryChat created within Shiny app. Set TRUE always clean , FALSE never clean automatically. querychat_app(), -memory databases created data frames always cleaned . bookmark_store bookmarking storage method. Passed shiny::enableBookmarking(). \"url\" \"server\", chat state (including current query) bookmarked. Default \"url\".","code":""},{"path":"https://posit-dev.github.io/querychat/reference/querychat-convenience.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"QueryChat convenience functions ‚Äî querychat","text":"QueryChat object. See QueryChat available methods. Invisibly returns chat object app stops.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/querychat-convenience.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"QueryChat convenience functions ‚Äî querychat","text":"","code":"if (FALSE) { # \\dontrun{ # Quick start - chat with mtcars dataset in one line querychat_app(mtcars)  # Add options querychat_app(   mtcars,   greeting = \"Welcome to the mtcars explorer!\",   client = \"openai/gpt-4o\" )  # Chat with a database table (table_name required) library(DBI) conn <- dbConnect(RSQLite::SQLite(), \":memory:\") dbWriteTable(conn, \"mtcars\", mtcars) querychat_app(conn, \"mtcars\")  # Create QueryChat class object qc <- querychat(mtcars)  # Run the app later qc$app()  } # }"},{"path":"https://posit-dev.github.io/querychat/reference/querychat-package.html","id":null,"dir":"Reference","previous_headings":"","what":"querychat: Chat with Your Data Using Natural Language ‚Äî querychat-package","title":"querychat: Chat with Your Data Using Natural Language ‚Äî querychat-package","text":"querychat provides interactive chat interface querying data using natural language. translates questions SQL queries, executes data, displays results. package works data frames database connections.","code":""},{"path":"https://posit-dev.github.io/querychat/reference/querychat-package.html","id":"quick-start","dir":"Reference","previous_headings":"","what":"Quick Start","title":"querychat: Chat with Your Data Using Natural Language ‚Äî querychat-package","text":"easiest way get started QueryChat R6 class:","code":"library(querychat)  # Create a QueryChat object (table name inferred from variable) qc <- QueryChat$new(mtcars)  # Option 1: Run a complete app with sensible defaults qc$app()  # Option 2: Build a custom Shiny app ui <- page_sidebar(   qc$sidebar(),   dataTableOutput(\"data\") )  server <- function(input, output, session) {   qc$server()   output$data <- renderDataTable(qc$df()) }  shinyApp(ui, server)"},{"path":"https://posit-dev.github.io/querychat/reference/querychat-package.html","id":"key-features","dir":"Reference","previous_headings":"","what":"Key Features","title":"querychat: Chat with Your Data Using Natural Language ‚Äî querychat-package","text":"Natural language queries: Ask questions plain English SQL transparency: See generated SQL queries Multiple data sources: Works data frames database connections Customizable: Add data descriptions, extra instructions, custom greetings LLM agnostic: Works OpenAI, Anthropic, Google, providers via ellmer","code":""},{"path":"https://posit-dev.github.io/querychat/reference/querychat-package.html","id":"main-components","dir":"Reference","previous_headings":"","what":"Main Components","title":"querychat: Chat with Your Data Using Natural Language ‚Äî querychat-package","text":"QueryChat: main R6 class creating chat interfaces DataSource, DataFrameSource, DBISource: R6 classes data sources","code":""},{"path":"https://posit-dev.github.io/querychat/reference/querychat-package.html","id":"examples","dir":"Reference","previous_headings":"","what":"Examples","title":"querychat: Chat with Your Data Using Natural Language ‚Äî querychat-package","text":"see examples included package, run:   provides list available examples. run specific example, like '01-hello-app', use:","code":"shiny::runExample(package = \"querychat\") shiny::runExample(\"01-hello-app\", package = \"querychat\")"},{"path":[]},{"path":"https://posit-dev.github.io/querychat/reference/querychat-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"querychat: Chat with Your Data Using Natural Language ‚Äî querychat-package","text":"Maintainer: Garrick Aden-Buie garrick@posit.co (ORCID) Authors: Joe Cheng joe@posit.co [conceptor] Carson Sievert carson@posit.co (ORCID) contributors: Posit Software, PBC [copyright holder, funder]","code":""},{"path":"https://posit-dev.github.io/querychat/news/index.html","id":"querychat-development-version","dir":"Changelog","previous_headings":"","what":"querychat (development version)","title":"querychat (development version)","text":"QueryChat$client() can now create standalone querychat-enabled chat clients configurable tools callbacks, enabling use outside Shiny applications. (#168) QueryChat$console() added launch interactive console-based chat sessions data source, persistent conversation state across invocations. (#168) tools used QueryChat chatbot now configurable. Use new tools parameter querychat() QueryChat$new() select either \"query\" \"update\" tools. Choose tools = \"update\" want QueryChat able update dashboard (useful want 100% certain LLM see raw data). (#168) querychat_app() now automatically clean data source QueryChat creates data source internally data frame. (#164) Breaking change: $sql() method now returns NULL instead \"\" (empty string) query set, aligning behavior $title() consistency. code using isTruthy() similar falsy checks continue working without changes. Code explicitly checks sql() == \"\" updated use falsy checks (e.g., !isTruthy(sql())) explicit null checks (.null(sql())). (#146) Tool detail cards can now expanded collapsed default querychat runs query updates dashboard via querychat.tool_details R option QUERYCHAT_TOOL_DETAILS environment variable. Valid values \"expanded\", \"collapsed\", \"default\". (#137) Added bookmarking support QueryChat$server() querychat_app(). bookmarking enabled (via bookmark_store = \"url\" \"server\" querychat_app() $app_obj(), via enable_bookmarking = TRUE $server()), chat state (including current query, title, chat history) saved restored Shiny bookmarks. (#107) Nearly entire functional API (.e., querychat_init(), querychat_sidebar(), querychat_server(), etc) hard deprecated favor simpler OOP-based API. Namely, new QueryChat$new() class now main entry point (instead querychat_init()) methods replace old functions (e.g., $sidebar(), $server(), etc). (#109) addition, querychat_data_source() renamed as_querychat_data_source(), remains exported developer extension point, users longer explicitly create data source. (#109) Added prompt_template support querychat_system_prompt(). (Thank , @oacar! #37, #45) querychat_init() now accepts client, replacing previous create_chat_func argument. (#60) client can : ellmer::Chat object, function returns ellmer::Chat object, provider-model string, e.g.¬†\"openai/gpt-4.1\", passed ellmer::chat(). client provided, querychat use querychat.client R option, can options, QUERYCHAT_CLIENT environment variable, provider-model string, default model ellmer::chat_openai(). querychat_server() now uses shiny::ExtendedTask streaming chat response, allows dashboard update remain responsive chat response streaming . (#63) querychat now requires ellmer version 0.3.0 later uses rich tool cards dashboard updates database queries. (#65) New querychat_app() function lets quickly launch Shiny app querychat chat interface. (#66) querychat_ui() now adds .querychat class chat container querychat_sidebar() adds .querychat-sidebar class sidebar, allowing easier customization via CSS. (#68) querychat now uses separate tool reset dashboard. (#80) querychat_greeting() can used generate greeting message querychat bot. (#87) querychat‚Äôs system prompt tool descriptions rewritten clarity future extensibility. (#90)","code":""}]
