% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_source.R
\name{DataFrameSource}
\alias{DataFrameSource}
\title{Data Frame Source}
\description{
A DataSource implementation that wraps a data frame using DuckDB for SQL
query execution.
}
\details{
This class creates an in-memory DuckDB connection and registers the provided
data frame as a table. All SQL queries are executed against this DuckDB table.
}
\examples{
\dontrun{
# Create a data frame source
df_source <- DataFrameSource$new(mtcars, "mtcars")

# Get database type
df_source$get_db_type()  # Returns "DuckDB"

# Execute a query
result <- df_source$execute_query("SELECT * FROM mtcars WHERE mpg > 25")

# Clean up when done
df_source$cleanup()
}

## ------------------------------------------------
## Method `DataFrameSource$new`
## ------------------------------------------------

\dontrun{
source <- DataFrameSource$new(iris, "iris")
}
}
\section{Super class}{
\code{\link[querychat:DataSource]{querychat::DataSource}} -> \code{DataFrameSource}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-DataFrameSource-new}{\code{DataFrameSource$new()}}
\item \href{#method-DataFrameSource-get_db_type}{\code{DataFrameSource$get_db_type()}}
\item \href{#method-DataFrameSource-get_schema}{\code{DataFrameSource$get_schema()}}
\item \href{#method-DataFrameSource-execute_query}{\code{DataFrameSource$execute_query()}}
\item \href{#method-DataFrameSource-test_query}{\code{DataFrameSource$test_query()}}
\item \href{#method-DataFrameSource-get_data}{\code{DataFrameSource$get_data()}}
\item \href{#method-DataFrameSource-cleanup}{\code{DataFrameSource$cleanup()}}
\item \href{#method-DataFrameSource-clone}{\code{DataFrameSource$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-DataFrameSource-new"></a>}}
\if{latex}{\out{\hypertarget{method-DataFrameSource-new}{}}}
\subsection{Method \code{new()}}{
Create a new DataFrameSource
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{DataFrameSource$new(df, table_name)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{df}}{A data frame.}

\item{\code{table_name}}{Name to use for the table in SQL queries. Must be a
valid table name (start with letter, contain only letters, numbers,
and underscores)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A new DataFrameSource object
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
source <- DataFrameSource$new(iris, "iris")
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-DataFrameSource-get_db_type"></a>}}
\if{latex}{\out{\hypertarget{method-DataFrameSource-get_db_type}{}}}
\subsection{Method \code{get_db_type()}}{
Get the database type
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{DataFrameSource$get_db_type()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
The string "DuckDB"
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-DataFrameSource-get_schema"></a>}}
\if{latex}{\out{\hypertarget{method-DataFrameSource-get_schema}{}}}
\subsection{Method \code{get_schema()}}{
Get schema information for the data frame
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{DataFrameSource$get_schema(categorical_threshold = 20)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{categorical_threshold}}{Maximum number of unique values for a text
column to be considered categorical (default: 20)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A string describing the schema
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-DataFrameSource-execute_query"></a>}}
\if{latex}{\out{\hypertarget{method-DataFrameSource-execute_query}{}}}
\subsection{Method \code{execute_query()}}{
Execute a SQL query
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{DataFrameSource$execute_query(query)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{query}}{SQL query string. If NULL or empty, returns all data}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A data frame with query results
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-DataFrameSource-test_query"></a>}}
\if{latex}{\out{\hypertarget{method-DataFrameSource-test_query}{}}}
\subsection{Method \code{test_query()}}{
Test a SQL query by fetching only one row
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{DataFrameSource$test_query(query)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{query}}{SQL query string}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A data frame with one row of results
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-DataFrameSource-get_data"></a>}}
\if{latex}{\out{\hypertarget{method-DataFrameSource-get_data}{}}}
\subsection{Method \code{get_data()}}{
Get all data from the table
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{DataFrameSource$get_data()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
A data frame containing all data
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-DataFrameSource-cleanup"></a>}}
\if{latex}{\out{\hypertarget{method-DataFrameSource-cleanup}{}}}
\subsection{Method \code{cleanup()}}{
Close the DuckDB connection
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{DataFrameSource$cleanup()}\if{html}{\out{</div>}}
}

\subsection{Returns}{
NULL (invisibly)
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-DataFrameSource-clone"></a>}}
\if{latex}{\out{\hypertarget{method-DataFrameSource-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{DataFrameSource$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
