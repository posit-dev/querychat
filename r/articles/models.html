<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Models • querychat</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="https://fonts.bunny.net/css?family=Open%20Sans:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&amp;display=auto" rel="stylesheet">
<link href="https://fonts.bunny.net/css?family=Hubot%20Sans:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&amp;display=auto" rel="stylesheet">
<link href="https://fonts.bunny.net/css?family=Source%20Code%20Pro:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&amp;display=auto" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Models">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">querychat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/models.html">Models</a></li>
    <li><a class="dropdown-item" href="../articles/data-sources.html">Data Sources</a></li>
    <li><a class="dropdown-item" href="../articles/context.html">Provide context</a></li>
    <li><a class="dropdown-item" href="../articles/build.html">Build an app</a></li>
    <li><a class="dropdown-item" href="../articles/greet.html">Greet users</a></li>
    <li><a class="dropdown-item" href="../articles/tools.html">Tools</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/posit-dev/querychat/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Models</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/posit-dev/querychat/blob/r/v0.2.0/vignettes/models.Rmd" class="external-link"><code>vignettes/models.Rmd</code></a></small>
      <div class="d-none name"><code>models.Rmd</code></div>
    </div>

    
    
<p>Under the hood, <code>querychat</code> is powered by <a href="https://ellmer.tidyverse.org/" class="external-link">ellmer</a>, a library for building
chat-based applications with large language models (LLMs).
<code>ellmer</code> supports a wide range of LLM providers – <a href="https://ellmer.tidyverse.org/reference/index.html#chat-constructors" class="external-link">see
here</a> for a full list.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://posit-dev.github.io/querychat/r/">querychat</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/" class="external-link">palmerpenguins</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ellmer.tidyverse.org" class="external-link">ellmer</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="specify-a-model">Specify a model<a class="anchor" aria-label="anchor" href="#specify-a-model"></a>
</h2>
<p>To use a particular model, pass a <code>"{provider}/{model}"</code>
string to the <code>client</code> parameter, which gets passed along to
<code><a href="https://ellmer.tidyverse.org/reference/chat-any.html" class="external-link">ellmer::chat()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">qc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/querychat-convenience.html">querychat</a></span><span class="op">(</span><span class="va">penguins</span>, client <span class="op">=</span> <span class="st">"anthropic/claude-sonnet-4-5"</span><span class="op">)</span></span>
<span><span class="va">qc</span><span class="op">$</span><span class="fu">app</span><span class="op">(</span><span class="op">)</span>  <span class="co"># Launch the app</span></span></code></pre></div>
<p>And, if you’d like to effectively set a new default model, you can
use the <code>querychat.client</code> R option or the
<code>QUERYCHAT_CLIENT</code> environment variable.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># In your .Rprofile</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>querychat.client <span class="op">=</span> <span class="st">"anthropic/claude-sonnet-4-5"</span><span class="op">)</span></span></code></pre></div>
<p>Note that it can also be useful to pass a full <code>Chat</code>
object to the <code>client</code> parameter for more advanced use cases
(e.g., custom parameters, tools, etc):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ellmer.tidyverse.org/reference/chat_anthropic.html" class="external-link">chat_anthropic</a></span><span class="op">(</span>model <span class="op">=</span> <span class="st">"claude-sonnet-4-5"</span><span class="op">)</span></span>
<span><span class="va">qc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/querychat-convenience.html">querychat</a></span><span class="op">(</span><span class="va">penguins</span>, client <span class="op">=</span> <span class="va">client</span><span class="op">)</span></span>
<span><span class="va">qc</span><span class="op">$</span><span class="fu">app</span><span class="op">(</span><span class="op">)</span>  <span class="co"># Launch the app</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="credentials">Credentials<a class="anchor" aria-label="anchor" href="#credentials"></a>
</h2>
<p>Most models require an API key or some other form of authentication.
See the reference page for the relevant model provider (e.g., <a href="https://ellmer.tidyverse.org/reference/chat_anthropic.html" class="external-link"><code>chat_anthropic()</code></a>)
to learn more on how to set up credentials.</p>
<div class="alert alert-info">
<p><strong>GitHub model marketplace</strong></p>
<p>If you are already setup with GitHub credentials, <a href="https://github.com/marketplace/models" class="external-link">GitHub model
marketplace</a> provides a free and easy way to get started. See <a href="https://ellmer.tidyverse.org/reference/chat_github.html" class="external-link">here</a>
for more details on how to get setup.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ellmer.tidyverse.org" class="external-link">ellmer</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Just works if GITHUB_TOKEN is set in your environment</span></span>
<span><span class="va">client</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ellmer.tidyverse.org/reference/chat_github.html" class="external-link">chat_github</a></span><span class="op">(</span>model <span class="op">=</span> <span class="st">"gpt-4.1"</span><span class="op">)</span></span></code></pre></div>
</div>
<p>In general, most providers will prefer credentials stored as
environment variables. Common practice is to use an
<code>.Renviron</code> file to manage these variables. For example, for
<code><a href="https://ellmer.tidyverse.org/reference/chat_openai.html" class="external-link">chat_openai()</a></code>, you might add to your <code>.Renviron</code>
file:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="va">OPENAI_API_KEY</span><span class="op">=</span><span class="st">"your_api_key_here"</span></span></code></pre></div>
<p>Then, you can edit your <code>.Renviron</code> file using:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu">edit_r_environ</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="recommended-models">Recommended models<a class="anchor" aria-label="anchor" href="#recommended-models"></a>
</h2>
<p>In theory, you could use any model that has tool calling support, but
we currently recommend (as of November 2025):</p>
<ul>
<li>GPT-4.1 (the default)</li>
<li>Claude 4.5 Sonnet</li>
<li>Google Gemini 3.0</li>
</ul>
<p>In our testing, we’ve found that those models strike a good balance
between accuracy and latency. That said, smaller/faster models like
GPT-4.1-mini or Claude Haiku 4.5 work well for most tables and are worth
trying first—they’re significantly cheaper and faster. You can always
switch to a larger model if you find the results aren’t meeting your
needs. On the other end of the spectrum, reasoning models like o3-mini
tend to slow down responses without providing meaningfully better
results for this task.</p>
<p>We’ve also seen some decent results with frontier local models (e.g.,
<code>gpt-oss:20b</code>), but even if you have the compute to run the
largest models, they still tend to lag behind the cloud-hosted options
in terms of accuracy and speed.</p>
<div class="alert alert-info">
<p><strong>Data privacy concerns?</strong></p>
<p>If you have data privacy concerns, consider that your org may provide
access to private instances of these models with data residency
guarantees. For example, Azure, AWS Bedrock, and Google Vertex AI all
provide private instances of popular LLMs. You can interface with these
enterprise providers by passing the right string (e.g.,
<code>"bedrock-anthropic"</code>) or <code>Chat</code> object (e.g.,
<code>chat_bedrock_anthropic()</code>) to the <code>client</code>
parameter. See the <a href="https://ellmer.tidyverse.org/reference/index.html#chat-constructors" class="external-link">ellmer
docs</a> for more details.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://garrickadenbuie.com" class="external-link">Garrick Aden-Buie</a>, <a href="https://github.com/jcheng5" class="external-link">Joe Cheng</a>, <a href="https://cpsievert.me" class="external-link">Carson Sievert</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
